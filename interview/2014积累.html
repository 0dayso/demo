<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
	<style>
	
	</style>
</head>
<body>
    <!-- div.aa$*10 -->
    <input type="text" size="100" value="asdfasfasfdasdfsgasdgagsdgagasdgasgdasgagdasgagasdgasdgag" />
    <ul id="list"> <li>demo1</li><li>demo2</li><li>demo3</li><li>demo4</li><li>demo5</li></ul>
	 <script type="text/javascript">
        var ul = document.getElementById('list'),
            lis = ul.getElementsByTagName('li');
        for (var i = 0, liL = lis.length; i < liL; i++) {
            // lis[i].onclick = (function(j) {
            //     return function() {
            //         console.log(lis[j].innerHTML)
            //     }
            // })(i)
            lis[i].onclick = function(){
                console.log(i)
            }
        };

        //5、按顺序写出alert弹出窗口的内容
        // var name = "The Window";
        // var object = {
        //       name : "My Object",
        //       getNameFunc : function(){
        //           alert('1.' + this.name);
        //           return function(){
        //               return this.name;
        //           };
        //       }
        // };
        // // var func = object.getNameFunc();    //My Object
        // alert('2.' + func());   //The Window
        // alert('3.' + func.call(object));    //My Object
        // alert('4.' + func.apply(object));   //My Object
        //6、列出三个常见的不同浏览器JS的兼容性问题。 event、addEventListener、currentStyle、getComputedStyle、DOM操作获取元素子节点、
        //7、用JS写一个实现继承的方法。
        // function Box1() {
        //     this.name = 'box1';
        // }
        // Box1.prototype.showName = function() {
        //     alert(this.name)
        // }
        // function Box2() {
        //     this.name = 'box2';
        // }
        // Box2.prototype = new Box1();
        // Box2.prototype.constructor = Box2;
        // var b2 = new Box2();
        // b2.showName();
        //8、用JS实现一个数组合并的方法（要求去重）
        // var arr1 = [1,2,3,2,32,31,124,13,13];
        // var arr2 = [123,13213,13,434,5,1,23,43,3];
        // var merge = function(args) {
        //     if (args.length == 1) return args;
        //     var arr = [], hash = {};
        //     for (var i = 0; i < args.length; i++) {
        //         for (var j = 0; j < args[i].length; j++) {
        //            if (!hash[args[i][j]]) {
        //                 arr.push(args[i][j]);
        //                 hash[args[i][j]] = true;
        //            }
        //        }
        //     };
        //     console.log(hash);
        //     return arr;
        // };
        // merge([arr1,arr2]);

        //9、使用正则表达式给所有string对象添加trim方法。
        // String.prototype.trim = function() {
        //     return this.replace(/(^\s*)|(\s*$)/g,"");
        // }
        //11、哪些方法可以提升网站前端性能？ 
        //技术热情，态度，思想，总结能力，经验。

        //12输出结果
  //       for ( var i = 1; i <= 3; i++) {
		//   setTimeout(function (){
		//       console.log(i);    
		//   }, 0);  
		// }; 

		// for(var i=1;i<=3;i++){
		//   setTimeout((function(i) {
		//   	console.log(i)
		//   })(i),0);  
		// }; 

        //复制各种数据类型的clone()函数
        //1.复制数组或对象
        Object.prototype.clone = function() {
            var o = this.constructor === 'Array' ? [] : {};
            for (var i in this) {
                o[i] = typeof this[i] === 'object' ? this[i].clone() : this[i];
            }
            return o;
        }
        //2.复制所有类型
        // var clone = function(obj) {
        //     var o;
        //     if (obj instanceof Array) {
        //         o = [];
        //         var i = obj.length;
        //         while (i--) {
        //             o[i] = clone(obj[i]);
        //         };
        //         return o;
        //     } else if (obj instanceof Object) {
        //         o = {};
        //         for (var k in obj) {
        //             o[k] = clone(obj[k]);
        //         }
        //         return o;
        //     } else {
        //         return obj;
        //     }
        // };
        var a = ['a',{bb:'bb'},1,3,['x','y']];
        var b = clone(a);
        console.log(b);

        function clone(obj) {
            var o;
            if (obj instanceof Array) {
                o = [];
                var i = obj.length;
                while (i--) {
                    o[i] = clone(obj[i]);
                }
                return o;
            } else if (obj instanceof Object) {
                o = {};
                for (var k in obj) {
                    o[k] = clone(obj[k]);
                }
                return o;
            } else {
                o = obj;
                return o;
            }
        }


        //数组去重
        var arr=[1,2,3,3,4,4,5,5,6,1,9,3,25,4];
        function deRepeat() {
            var hash = {};
            var newArr = [];
            for (var i = 0; i < arr.length; i++) {
                if (!hash[arr[i]]) {
                    hash[arr[i]] = true;
                    newArr.push(arr[i]);
                }
            };
            return newArr;
        }
        deRepeat(arr); //[1, 2, 3, 4, 5, 6, 9, 25]

        String.prototype.addSpace = function() {
            return this.replace(/\s/g,'').split('').join(' ');
        }
        'hello abc'.addSpace(); //"h e l l o a b c"

        //写一个方法log代替console.log
        function log() {
            console.log.apply(console, arguments)
        }
        log('a','b');   //a b


        //对this的理解
        var User = {
          count: 1,        
          getCount: function() {
            return this.count;
          }
        };       
        console.log(User.getCount());  //1
         
        var func = User.getCount.bind(User);
        func(); //undefined
        //如何使func()也为1  console.log(func.call(User));  

        Function.prototype.bind = Function.prototype.bind || function(context) {
            var self = this;

            return function() {
                return self.apply(context, arguments)
            }
        };

        
    </script>
</body>
</html>